import{j as e,r as d,C as j}from"./index-MXj4Meji.js";import{H as p,F as u}from"./Footer-Cv8se-gG.js";import{A as n}from"./BaseUrl-CaOMfKxm.js";import{u as N,E as g}from"./useHttp-D46QWFTR.js";import{B as o}from"./Button-D_Nao9RA.js";import{a as f}from"./axios-B4uVmeYG.js";import"./auth-C1LRRyss.js";function b({className:r="",children:l,...c}){return e.jsx(e.Fragment,{children:e.jsx("table",{className:`table ${r}`,...c,children:l})})}const E={},F=({image:r})=>{const[l,c]=d.useState([]);d.useContext(j);const{data:s,isLoading:m,error:i}=N(n.FETCH_ORDERS,E,[]);if(m)return e.jsx("p",{className:"h2",children:"Fetching product list data..."});if(i)return e.jsx(g,{title:"Failed to fetch Orders",message:i});const h=async t=>{try{await f.delete(`http://white-emu-581912.hostingersite.com/api/order/delete/${t}`),c(a=>a.filter(x=>x.id!==t))}catch(a){console.error("Failed to delete activity:",a)}};return e.jsxs("div",{className:"table-responsive small",children:[e.jsx("p",{className:"h2 text-center",children:"Product List"}),e.jsx("p",{className:"h3 text-warning",children:`Total Orders: ${s&&s.totalOrders}`}),e.jsxs(b,{className:"table table-striped table-md",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"Product id"}),e.jsx("th",{scope:"col",children:"Item"}),e.jsx("th",{scope:"col",children:"Item Name"}),e.jsx("th",{scope:"col",children:"Price"}),e.jsx("th",{scope:"col",children:"Quantity"}),e.jsx("th",{scope:"col",children:"Tracking #"}),e.jsx("th",{scope:"col",children:"Actions"})]})}),e.jsx("tbody",{children:s&&s.orders&&s.orders.map(t=>e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"p-lg-5",children:[e.jsx("td",{children:t.id}),e.jsx("td",{children:e.jsx("img",{src:`${n.FETCH_ORDERS.FETCH_IMAGE}/${r}`,alt:t.productName},t.id)}),e.jsx("td",{children:t.productName}),e.jsx("td",{children:t.firstName}),e.jsx("td",{children:t.lastName}),e.jsx("td",{children:t.trackingNumber}),e.jsxs("td",{className:"row g-md-1",children:[e.jsx(o,{className:"btn-dark col-lg-5 me-lg-2",onClick:()=>{},children:"Edit"}),e.jsx(o,{className:"btn-danger col-lg-5",onClick:()=>{h(t.id),alert(`${t.productName} Deleted`)},children:"Delete"})]})]},t.id)}))})]})]})},$=()=>e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsx(F,{}),e.jsx(u,{})]});export{$ as default};
