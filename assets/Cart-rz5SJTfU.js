import{j as s,r as c,C as l,U as d}from"./index-DDb-D-OQ.js";import{M as u}from"./Modal-C0tpGvKY.js";import{B as i}from"./Button-Bi2rKfEL.js";import{u as x,A as m}from"./auth-GoLmJaQk.js";function C({image:t,itemName:r,quantity:a,price:n,onIncrease:e,onDecrease:o}){return x()?s.jsxs("li",{className:"cart-item",children:[s.jsx("img",{src:`${m.FETCH_IMAGE}/${t}`,alt:`${r}`}),s.jsxs("p",{children:[r," - ",a," x ",`₱${n}`]}),s.jsxs("div",{className:"cart-item-actions",children:[s.jsx("button",{onClick:o,children:"-"}),s.jsxs("span",{children:[" ",a]}),s.jsx("button",{onClick:e,children:"+"})]})]}):null}function I(){const t=c.useContext(l),r=c.useContext(d),a=t.items.reduce((e,o)=>e+o.quantity*o.price,0);function n(){r.hideCart()}return s.jsxs(u,{className:"cart",open:r.progress==="cart",onClose:r.progress==="cart"?n:null,children:[s.jsx("h2",{children:"Your Cart"}),s.jsx("ul",{children:t.items.map(e=>s.jsx(C,{itemName:e.name,quantity:e.quantity,price:e.price,onIncrease:()=>t.addItem(e),onDecrease:()=>t.removeItem(e.id),image:e.image},e.id))}),s.jsx("p",{className:"cart-total",children:`₱${a}`}),s.jsxs("div",{className:"modal-actions",children:[s.jsx(i,{className:"btn-outline-danger",onClick:n,children:"Close"}),t.items.length>0&&s.jsx(i,{className:"btn-dark",onClick:()=>{r.showCheckout()},children:"Checkout"})]})]})}export{I as default};
