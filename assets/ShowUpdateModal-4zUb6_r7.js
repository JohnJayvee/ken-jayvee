import{r as h,U as x,a as g,j as s}from"./index-wmhVshuy.js";import{M as j}from"./Modal-DDfRGe3g.js";import{B as c}from"./Button-BOhMOqLC.js";import{I as a}from"./InputBlock-DdVjYIwI.js";import{a as f}from"./axios-B4uVmeYG.js";import{A as N}from"./BaseUrl-6_kCCrH9.js";const y=()=>{const n=h.useContext(x),m=g(),{orderData:e}=n,d={headers:{Authorization:`Bearer ${m.token}`}},u=async(l,r)=>{l.preventDefault();try{await f.put(`http://white-emu-581912.hostingersite.com/api/order/update/${r}`,e,d).then(t=>{t&&(console.log(t.data.order),window.location.reload())})}catch(t){t.response?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?console.log(t.request):console.log("Error",t.message),console.log(t.config)}},o=l=>{const{name:r,value:t}=l.target;n.setOrderData(p=>({...p,[r]:t}))};function i(){n.hideUpdateOrder()}return s.jsx(s.Fragment,{children:s.jsx(j,{className:"order-update",open:n.progress==="updateOrder",onClose:n.progress==="updateOrder"?i:null,children:s.jsxs("form",{onSubmit:l=>u(l,e==null?void 0:e.id),children:[s.jsxs("div",{className:"form",children:[s.jsx("h2",{className:"text-dark",children:"Update Your Order"}),s.jsxs("div",{className:"container-fluid row",children:[s.jsxs("div",{className:"left-modal col col-md-6",children:[s.jsx(a,{label:"Email",type:"email",id:"email",name:"email",value:(e==null?void 0:e.email)||"",onChange:o}),s.jsx(a,{label:"Contact Number",type:"text",id:"cellphoneNumber",name:"cellphoneNumber",value:(e==null?void 0:e.cellphoneNumber)||"",onChange:o}),s.jsx(a,{label:"Message",type:"text",id:"message",name:"message",value:(e==null?void 0:e.message)||"",onChange:o}),s.jsx(a,{label:"Quantity",type:"text",id:"quantity",name:"quantity",value:(e==null?void 0:e.quantity)||"",onChange:o}),s.jsx("p",{className:"h3",children:`Total Price: ${e==null?void 0:e.totalPrice}`})]}),s.jsxs("div",{className:"right-modal col col-md-6 row",children:[s.jsx("div",{className:"d-flex justify-content-center align-items-center",children:s.jsx("img",{className:"rounded-5",src:`${N.FETCH_IMAGE}/${e==null?void 0:e.image}`,alt:e==null?void 0:e.productName,style:{height:"175px"}})}),s.jsx("div",{children:s.jsx("h4",{className:"text-dark text-center",children:`${e==null?void 0:e.productName}`})})]})]})]}),s.jsx(c,{className:"btn-danger",type:"button",onClick:i,children:"Close"}),s.jsx(c,{className:"btn-dark mx-3",type:"submit",children:"Update Order"})]})})})},E=()=>s.jsx(s.Fragment,{children:s.jsx(y,{})});export{E as default};
