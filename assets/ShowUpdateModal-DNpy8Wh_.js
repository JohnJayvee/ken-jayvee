import{r as i,C as x,U as g,a as j,j as s}from"./index-Czu1RohD.js";import{M as N}from"./Modal-DnUUQyvb.js";import{B as m}from"./Button-DDrBjuPN.js";import{I as a}from"./InputBlock-DuQlz-D4.js";import{a as f}from"./axios-B4uVmeYG.js";import{A as C}from"./BaseUrl-6_kCCrH9.js";const y=()=>{i.useContext(x);const n=i.useContext(g),d=j(),{orderData:e}=n,u={headers:{Authorization:`Bearer ${d.token}`}},p=async(l,r)=>{l.preventDefault();try{const t=await f.put(`http://white-emu-581912.hostingersite.com/api/order/update/${r}`,e,u);console.log(t.data.order)}catch(t){t.response?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?console.log(t.request):console.log("Error",t.message),console.log(t.config)}},o=l=>{const{name:r,value:t}=l.target;n.setOrderData(h=>({...h,[r]:t}))};function c(){n.hideUpdateOrder()}return s.jsx(s.Fragment,{children:s.jsx(N,{className:"order-update",open:n.progress==="updateOrder",onClose:n.progress==="updateOrder"?c:null,children:s.jsxs("form",{onSubmit:l=>p(l,e==null?void 0:e.id),children:[s.jsxs("div",{className:"form",children:[s.jsx("h2",{className:"text-dark",children:"Update Your Order"}),s.jsxs("div",{className:"container-fluid row",children:[s.jsxs("div",{className:"left-modal col col-md-6",children:[s.jsx(a,{label:"Email",type:"email",id:"email",name:"email",value:(e==null?void 0:e.email)||"",onChange:o}),s.jsx(a,{label:"Contact Number",type:"text",id:"cellphoneNumber",name:"cellphoneNumber",value:(e==null?void 0:e.cellphoneNumber)||"",onChange:o}),s.jsx(a,{label:"Message",type:"text",id:"message",name:"message",value:(e==null?void 0:e.message)||"",onChange:o}),s.jsx(a,{label:"Quantity",type:"text",id:"quantity",name:"quantity",value:(e==null?void 0:e.quantity)||"",onChange:o}),s.jsx("p",{className:"h3",children:`Total Price: ${e==null?void 0:e.totalPrice}`})]}),s.jsxs("div",{className:"right-modal col col-md-6 row",children:[s.jsx("div",{className:"d-flex justify-content-center align-items-center",children:s.jsx("img",{className:"rounded-5",src:`${C.FETCH_IMAGE}/${e==null?void 0:e.image}`,alt:e==null?void 0:e.productName,style:{height:"175px"}})}),s.jsx("div",{children:s.jsx("h4",{className:"text-dark text-center",children:`${e==null?void 0:e.productName}`})})]})]})]}),s.jsx(m,{className:"btn-danger",type:"button",onClick:c,children:"Close"}),s.jsx(m,{className:"btn-dark mx-3",type:"submit",children:"Update Order"})]})})})},P=()=>s.jsx(s.Fragment,{children:s.jsx(y,{})});export{P as default};
