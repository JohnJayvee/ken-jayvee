import{r as m,j as e,L as h}from"./index-Cc2jexC4.js";import{B as f}from"./Button-BTkl5E_n.js";import{I as n}from"./InputBlock-BPNXMfrp.js";import{l as j}from"./logo-transparent-yviwR2yx.js";import{a as w}from"./axios-B4uVmeYG.js";function C(){const[c,d]=m.useState(""),[p,g]=m.useState(!1),[s,i]=m.useState({name:"",email:"",username:"",password:"",password_confirmation:"",image:null}),t=o=>{const{name:r,value:a,files:x}=o.target;i(r==="image"?l=>({...l,image:x[0]}):l=>({...l,[r]:a}))},u=async o=>{o.preventDefault(),d(""),g(!0);const r=new FormData;Object.keys(s).forEach(a=>{r.append(a,s[a])});try{const a=await w.post("http://white-emu-581912.hostingersite.com/api/user/register",r,{headers:{"Content-Type":"multipart/form-data"}});console.log("User Registered Successfully",a.data),window.location.replace("/login"),i({name:"",email:"",username:"",password:"",password_confirmation:"",image:null})}catch(a){a.response&&a.response.status===422?d(a.response.data.errors):console.error("Error submitting registration form:",a)}finally{g(!1)}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center align-items-center min-vh-100",children:e.jsx("div",{className:"col-12 col-md-12 col-lg-4",children:e.jsx("div",{className:"card shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"text-center mb-2",children:e.jsx("img",{src:j,alt:"Logo",style:{maxWidth:"150px"}})}),e.jsx("p",{className:"text-center h3 text-dark",children:"Sign up"}),c&&e.jsx("div",{className:"text-center text-danger mb-3",children:c}),e.jsxs("form",{className:"text-dark",onSubmit:u,encType:"multipart/form-data",children:[e.jsx(n,{type:"text",name:"name",id:"name",label:"Fullname",onChange:t,value:s.name}),e.jsx(n,{type:"text",name:"email",id:"email",label:"Email",onChange:t,value:s.email}),e.jsx(n,{type:"text",name:"username",id:"username",label:"Username",onChange:t,value:s.username}),e.jsx(n,{type:"password",name:"password",id:"password",label:"Password",onChange:t,value:s.password}),e.jsx(n,{type:"password",name:"password_confirmation",id:"password_confirmation",label:"Confirm Password",onChange:t,value:s.password_confirmation}),e.jsx(n,{type:"file",name:"image",id:"image",label:"Profile Image",onChange:t}),e.jsx(f,{className:"btn-dark w-100",type:"submit",disabled:p,children:p?"Registering...":"Register"}),e.jsx("div",{className:"text-sm mt-2",children:e.jsxs("p",{className:"h6",children:["Have an account?"," ",e.jsx(h,{className:"text-danger link-underline-light",to:"/login",children:"Login"})]})})]})]})})})})})})}export{C as default};
