import{r,C as n,j as e}from"./index-CFdhS-HY.js";import{B as o}from"./Button-D8t3_AnI.js";import{A as i}from"./BaseUrl-DVqEL8bQ.js";import{a as d,H as l,F as m}from"./Header-DDwqRtW9.js";function x({foods:s}){const c=r.useContext(n);function a(){c.addItem(s)}return e.jsx("li",{className:"food-item",children:e.jsxs("div",{className:"item-card",children:[e.jsx("img",{src:`${i.FETCH_IMAGE}/${s.image}`,alt:s.name},s.id),e.jsxs("div",{children:[e.jsx("h3",{children:s.name}),e.jsx("p",{className:"food-item-description",children:s.description.substring(0,60)})]}),e.jsxs("div",{className:"food-item-actions d-flex justify-content-around",children:[e.jsxs("dt",{className:"food-item-price",children:["â‚±",s.price]}),e.jsx(o,{className:"btn-outline-light",onClick:a,children:"Add to Cart"})]})]})})}function f(){const[s,c]=r.useState([]),a=r.useRef(!1);return r.useEffect(()=>{a.current||(a.current=!0,d.get(i.FETCH_PRODUCTS,{headers:{"Content-Type":"application/json"}}).then(t=>{console.log("API Response:",t),t.data.success&&Array.isArray(t.data.products)?c(t.data.products):console.error("Unexpected response format:",t.data)}).catch(t=>{console.error("Error fetching the products:",t)}))},[]),e.jsxs(e.Fragment,{children:[e.jsx(l,{}),e.jsx("p",{className:"h1 text-center",children:"Shop"}),e.jsx("div",{className:"container-fluid",children:e.jsx("ul",{className:"row h-50",id:"items",children:s.map(t=>e.jsx("div",{className:"col col-lg-3 col-md-4 my-2 justify-content-sm-center",children:e.jsx(x,{foods:t},t.id)}))})}),e.jsx(m,{})]})}export{f as default};
