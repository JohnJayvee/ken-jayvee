import{r as a,C as o,j as e}from"./index-BczavBKT.js";import{B as n}from"./Button-Dk5s7EpL.js";import{A as c}from"./BaseUrl-DVqEL8bQ.js";import{H as d,F as l}from"./Header-DXCa92DR.js";import{a as m}from"./axios-DW_MJ7ar.js";function x({foods:s}){const i=a.useContext(o);function r(){i.addItem(s)}return e.jsx("li",{className:"food-item",children:e.jsxs("div",{className:"item-card",children:[e.jsx("img",{src:`${c.FETCH_IMAGE}/${s.image}`,alt:s.name},s.id),e.jsxs("div",{children:[e.jsx("h3",{children:s.name}),e.jsx("p",{className:"food-item-description",children:s.description.substring(0,60)})]}),e.jsxs("div",{className:"food-item-actions d-flex justify-content-around",children:[e.jsxs("dt",{className:"food-item-price",children:["â‚±",s.price]}),e.jsx(n,{className:"btn-outline-light",onClick:r,children:"Add to Cart"})]})]})})}function C(){const[s,i]=a.useState([]),r=a.useRef(!1);return a.useEffect(()=>{r.current||(r.current=!0,m.get(c.FETCH_PRODUCTS,{headers:{"Content-Type":"application/json"}}).then(t=>{console.log("API Response:",t),t.data.success&&Array.isArray(t.data.products)?i(t.data.products):console.error("Unexpected response format:",t.data)}).catch(t=>{console.error("Error fetching the products:",t)}))},[]),e.jsxs(e.Fragment,{children:[e.jsx(d,{}),e.jsx("p",{className:"h1 text-center",children:"Shop"}),e.jsx("div",{className:"container-fluid",children:e.jsx("ul",{className:"row h-50",id:"items",children:s.map(t=>e.jsx("div",{className:"col col-lg-3 col-md-4 my-2 justify-content-sm-center",children:e.jsx(x,{foods:t},t.id)}))})}),e.jsx(l,{})]})}export{C as default};
