import{j as a,r as o}from"./index-BgBV79IB.js";import{a as l}from"./axios-B4uVmeYG.js";const x=({title:s,message:e,className:t="",...r})=>a.jsx(a.Fragment,{children:a.jsxs("div",{className:`error ${t}`,...r,children:[a.jsx("p",{className:"h2",children:s}),a.jsx("p",{className:"h3",children:e})]})}),f=x;async function E(s,e){var t,r;try{return(await l(s,e)).data}catch(n){const c=((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Something went wrong, failed to send request.";throw new Error(c)}}const w=(s,e,t)=>{const[r,n]=o.useState(t),[c,m]=o.useState(!1),[i,h]=o.useState(),d=o.useCallback(async function(p){m(!0);try{const u=await E(s,{...e,body:p});n(u)}catch(u){h(u.message||"Something went wrong!")}m(!1)},[s,e]);return o.useEffect(()=>{(e&&(e.method==="GET"||!e.method)||!e)&&d()},[d,e]),{data:r,isLoading:c,error:i,sendRequest:d}},g=w;export{f as E,g as u};
