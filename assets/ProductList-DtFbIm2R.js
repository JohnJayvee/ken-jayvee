import{j as e,r as a,C as N,U as f,a as b}from"./index-BgBV79IB.js";import{H as E,F as w}from"./Footer-D9JD2FWK.js";import{A as d}from"./BaseUrl-CbeK92AF.js";import{u as y,E as C}from"./useHttp-apH_MioN.js";import{B as m}from"./Button-ByKht_eV.js";import{a as h}from"./axios-B4uVmeYG.js";import"./auth-wOaSmbVa.js";function I({className:o="",children:c,...i}){return e.jsx(e.Fragment,{children:e.jsx("table",{className:`table ${o}`,...i,children:c})})}const F={},D=()=>{a.useContext(N);const[o,c]=a.useState([]),[i,x]=a.useState([]);a.useState(!1),a.useContext(f),a.useState(null);const{user:j}=b(),{data:r,isLoading:p,error:n}=y(d.FETCH_ORDERS,F,[]);if(p)return e.jsx("p",{className:"h2 text-center",children:"Fetching product list data..."});if(n)return e.jsx(C,{className:"text-center text-dark",message:n});console.log(r);const u=async t=>{try{await h.delete(`http://white-emu-581912.hostingersite.com/api/order/delete/${t}`),c(s=>s.filter(l=>l.id!==t)),window.location.reload()}catch(s){console.error("Failed to delete activity:",s)}},g=async t=>{try{await h.put(`http://white-emu-581912.hostingersite.com/api/order/update/${t}`),x(s=>s.filter(l=>l.id!==t))}catch(s){console.error("Failed to delete activity:",s)}};return e.jsxs("div",{className:"table-responsive small",children:[e.jsx("p",{className:"h2 text-center",children:"Product List"}),e.jsx("p",{className:"h3 text-warning col-md d-flex justify-content-md-end me-5",children:`Total Orders: ${r&&r.totalOrders}`}),e.jsxs(I,{className:"table table-striped",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"Item"}),e.jsx("th",{scope:"col",children:"Item Name"}),e.jsx("th",{scope:"col",children:"Price"}),e.jsx("th",{scope:"col",children:"Quantity"}),e.jsx("th",{scope:"col",children:"Target Date"}),e.jsx("th",{scope:"col",children:"Tracking #"}),e.jsx("th",{scope:"col",children:"Actions"})]})}),r&&r.orders&&r.orders.map(t=>e.jsx("tbody",{children:e.jsxs("tr",{className:"p-lg-5 ",children:[e.jsx("td",{children:e.jsx("img",{src:`${d.FETCH_IMAGE}/${j.imageUrl}`,alt:"image not available",style:{height:"10rem"}})}),e.jsx("td",{children:t.productName}),e.jsx("td",{children:t.firstName}),e.jsx("td",{children:t.lastName}),e.jsx("td",{children:t.targetDate}),e.jsx("td",{children:t.trackingNumber}),e.jsxs("td",{className:"row g-md-2",children:[e.jsx(m,{className:"btn-dark col-lg-12 p-md-4",onClick:()=>{g(t.id)},children:"Edit"}),e.jsx(m,{className:"btn-danger col-lg-12 p-md-4",onClick:()=>{u(t.id),window.confirm(`Do you want to remove ${t.productName}? `)},children:"Delete"})]})]})},t.id))]})]})},L=()=>e.jsxs(e.Fragment,{children:[e.jsx(E,{}),e.jsx(D,{}),e.jsx(w,{})]});export{L as default};
